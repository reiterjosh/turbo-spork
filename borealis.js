var singleQ=1===$(".fields").length;function clickNextRadio(e){$(".fields:eq("+e+")>").filter(":first, :has(:checked)+").last().find(".radio").click()}document.addEventListener("keydown",function(e){var t=$(".radio");switch(e.key){case"q":case"[":$(".prev")[0].click();break;case" ":case";":t.slice(0,3).is(".checked")||t.eq(0).click(),t.slice(3).is(".checked")||(t.slice(1,3).is(".checked")?t.eq(5).click():t.eq(3).click());case"]":$(".next")[0].click();break;case"d":clickNextRadio(0);break;case"f":clickNextRadio(1);break;case"/":$(".playpause").first().click();break;case"j":case"k":case"l":$(".playpause").eq("jkl".indexOf(e.key)).click();break;case"`":$(".playpause").click()}});var counter={obj:$("<a contenteditable='true' tabindex='-1'>0</a>").insertAfter("li.reports").wrap("<li></li>"),graded:$(".request-item.current").is(".complete"),update:function(){this.graded||$(".request-item.current").is(".complete")||this.obj.text(String(parseInt(this.obj.text())+1)),this.graded=$(".request-item.current").is(".complete")}},s_ajaxListener={tempOpen:XMLHttpRequest.prototype.open,tempSend:XMLHttpRequest.prototype.send,audioGetCount:0,callback:function(){this.url.indexOf("client.requests.cc.get_audio")>-1&&(this.audioGetCount++,(this.audioGetCount==singleQ||3)&&(singleQ||setTimeout(function(){$(".playpause")[0].click()},120),this.audioGetCount=0,counter.update()))}};XMLHttpRequest.prototype.open=function(e,t){if(!e)e="";if(!t)t="";s_ajaxListener.tempOpen.apply(this,arguments),s_ajaxListener.method=e,s_ajaxListener.url=t,"get"==e.toLowerCase()&&(s_ajaxListener.data=t.split("?"),s_ajaxListener.data=s_ajaxListener.data[1])},XMLHttpRequest.prototype.send=function(e,t){if(!e)e="";if(!t)t="";s_ajaxListener.tempSend.apply(this,arguments),"post"==s_ajaxListener.method.toLowerCase()&&(s_ajaxListener.data=e),s_ajaxListener.callback()};
