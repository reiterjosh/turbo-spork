if(counter)throw counter.init(),"resetting";function formKeys(e){var t="asdf ".indexOf(e.key),s=$("#questions>.row"),i=s.not(".center, :has(.selected)").add(s.last()).first(),n=s.filter("[style]").add(i).first();t>-1?(e.preventDefault(),n.find(".choice").eq(t).click()):"z"===e.key&&(n.removeAttr("style"),(n=n.prev().add(i).first()).is(".center")&&(n=n.prev()),n.css("background-color","#9ac9f8"),s.click(function(){s.removeAttr("style")}))}function shortcutsDisabled(){var e=event.shiftKey||event.metaKey||event.altKey,t=$("input[type='text']").is(":focus")||$(".swal2-modal.show-swal2").length||$(event.target).is("[contenteditable]");return(e||t)&&"/"!==event.key}function changeStyle(e,t,s){for(var i=document.styleSheets,n=0;n<i.length;n++)if(i[n].href.includes("css/app"))for(var a=i[n].cssRules,o=0;o<a.length;o++)a[o].selectorText&&a[o].selectorText.includes(e)&&(a[o].style[t]=s)}function fixSidebar(){for(sheet of document.styleSheets)sheet.href&&sheet.href.includes("css/app")&&sheet.insertRule("#left[data-v-4f0606c2] {height: 900px; overflow: scroll}")}function toggleSnip(){$("#snippets-wrapper>:gt(1):lt(-3)").not(":has( .bubble)").toggle()}function toggleBlur(){toggleBlur.off=!toggleBlur.off,changeStyle(".hidden","filter",toggleBlur.off?"none":"blur(3px)")}function toggleAnim(){var e="*, ::before, ::after",t=document.styleSheets[0];t.cssRules[0].selectorText===e?t.deleteRule(0):t.insertRule(e+"{transition-property: none !important;transform: none !important;animation: none !important;}")}function setAlphaSort(){$(".key").dblclick(function(){$("#results .type").remove(),setTimeout(function(){$("#results .row").sort(function(e,t){return $(t).text().toLowerCase()<$(e).text().toLowerCase()?1:-1}).appendTo("#results")},300)})}document.addEventListener("keydown",function(e){if("Enter"===e.key&&$(".swal2-container").remove(),!shortcutsDisabled()&&"Tab"!==e.key)switch(formKeys(e),e.preventDefault(),e.key){case"Home":$(".request.active").parent().prev().click();break;case"End":$(".request.active").parent().next().click();break;case"p":case"/":$("i.play.icon, i.pause.icon").click();break;case"ArrowLeft":case"[":$("button:contains(⇦)").not(".disabled").last().click();break;case";":case"ArrowRight":case"]":e.ctrlKey?$("#skip").click():$("button:contains(⇨)").not(".disabled").first().click();break;case"g":var t=$(".tab.active").next();t.length?t.click():$(".tab.incomplete").length>1?$(".tab").first().click():$("button:contains(⇨)").not(".disabled").first().click();break;case"h":$("#insufficient-evidence>").click();break;case"Clear":e.ctrlKey?toggleAnim():toggleBlur();break;case"j":case"`":toggleSnip()}});var counter={docObj:$("<span contenteditable='true' tabindex='-1'>0</span"),projectName:$("#project-name").text(),skip:!0,id:"",init:function(){this.docObj.insertBefore("#skip").css("padding","9px"),localStorage.getItem(this.projectName)?this.docObj.text(localStorage.getItem(this.projectName)):localStorage.setItem(this.projectName,this.docObj.text()),this.onload()},incr:function(){this.docObj.text(String(parseInt(this.docObj.text())+1)),localStorage.setItem(this.projectName,this.docObj.text())},onload:function(){counter.docObj.is(":visible")||counter.init();var e=$(".audio-id").text();if(e!==this.id&&e){if(this.id=e,$(".request-group").click(function(){this.skip=!0}),$(".request.active").hasClass("gradable")||!$(".request-group").length){var t=!!$(".ui.positive.message").length;this.skip||t||this.incr(),this.skip=t}$('<span class="title"> '+$(".data").eq(3).text()+"</span>").insertAfter(".search-wrapper").css("color","white"),$(".request.active").get(0).scrollIntoViewIfNeeded()}}},s_ajaxListener={tempOpen:XMLHttpRequest.prototype.open,tempSend:XMLHttpRequest.prototype.send,callback:function(){this.url.includes("audio")&&counter.onload()}};XMLHttpRequest.prototype.open=function(e,t){if(!e)e="";if(!t)t="";s_ajaxListener.tempOpen.apply(this,arguments),s_ajaxListener.method=e,s_ajaxListener.url=t,"get"==e.toLowerCase()&&(s_ajaxListener.data=t.split("?"),s_ajaxListener.data=s_ajaxListener.data[1])},XMLHttpRequest.prototype.send=function(e,t){if(!e)e="";if(!t)t="";s_ajaxListener.tempSend.apply(this,arguments),"post"==s_ajaxListener.method.toLowerCase()&&(s_ajaxListener.data=e),s_ajaxListener.callback()},fixSidebar(),counter.init();
